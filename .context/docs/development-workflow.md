# Development Workflow

This document describes the core engineering processes, branching strategy, and contribution expectations for FiscalZen. All developers should adhere to these guidelines to ensure team velocity and code quality.

## Development Workflow

Our day-to-day workflow uses a **Feature Branch** approach to minimize merge conflicts and ensure code quality. Follow these steps for each engineering change:

1. **Identify Work**  
   - Choose an issue, ticket, or task from the project board (`task.md` or backlog).
2. **Branch Creation**  
   - Create a branch off `main` with a clear, descriptive name:
     - Features: `feature/short-summary`
     - Bugfixes: `fix/short-summary`
     - Chores: `chore/short-summary`
3. **Development**  
   - Implement your changes incrementally.
   - Write and/or update relevant tests.
   - Regularly lint and format code.
   - Commit with concise, conventional messages.
4. **Pull Request (PR) Submission**  
   - Open a PR targeting `main`.
   - Link related issues.
   - Add a summary and screenshots if UI-related.
   - Ensure all checks (CI, lint, tests) are green.
5. **Peer Review & Merge**  
   - Incorporate review feedback.
   - Squash and merge after approvals.

## Branching & Releases

- **Branching Model:**  
  - `main`: Always production-ready. All merges go through PRs.
  - `feature/feature-name`: New features or refactors.
  - `fix/bug-name`: Hotfixes or patches.
  - `chore/task-name`: Tooling, dependencies, documentation updates.

- **Release Cadence:**  
  - Releases are manual.  
  - Create a Git tag on `main` after approved merges for each production deployment.
  - Tag format: `vX.Y.Z` (semantic versioning preferred).

- **Tagging:**  
  - Use annotated tags with a summary of changes.

## Local Development

Set up your development environment and run the FiscalZen stack locally by following these instructions:

**Prerequisites:**
- Node.js `20+`
- Docker & Docker Compose

**Setup & Commands:**
```bash
# 1. Install root dependencies
npm install

# 2. Install dependencies for sub-projects
cd fiscalzen-app && npm install
cd ../fiscalzen-api && npm install && npx prisma generate

# 3. Start the stack using Docker Compose
# Runs backend, frontend, and database containers
docker-compose up -d

# 4. Start the frontend separately (when backend is up)
cd fiscalzen-app
npm run dev

# 5. Start backend in watch mode for auto-reloading
cd fiscalzen-api
npm run start:dev
```

_See also [tooling.md](./tooling.md) for more tooling details._

## Code Review Expectations

All Pull Requests must satisfy the following before review:

- Code builds cleanly and passes all checks.
- Linting via `npm run lint` must pass; use `prettier` for consistent formatting.
- Tests relevant to the changes are present and green.
- The PR description should reference related tickets/issues.
- For feature work, UI changes should include before/after screenshots or videos.

**Review process:**
- At least one other developer must approve your PR.
- Respond constructively to feedback and iterate as needed.
- See [AGENTS.md](./AGENTS.md) for collaboration practices if contributing code generated by agents or in teams.

_Refer to [testing-strategy.md](./testing-strategy.md) for standards on test coverage and approach._

## Onboarding Tasks

Welcome! If you're new to FiscalZen:

1. Read the [Project Overview](./project-overview.md) to understand the system and its goals.
2. Set up the stack locally using the steps above.
3. Pick a small issue (UI tweak, minor API endpoint, or docs improvement) to get familiar with the codebase.
4. Explore internal runbooks or dashboards if available for operational context.

If stuck, reach out in the designated Slack/Discord channel or check the internal onboarding resources.

---

## Cross-References

- [testing-strategy.md](./testing-strategy.md): Learn about test requirements and best practices.
- [tooling.md](./tooling.md): Explore the CLI tools, code quality, and automation used.
- [AGENTS.md](./AGENTS.md): Agent collaboration and contribution practices.
